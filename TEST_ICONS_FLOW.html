<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Test des ic√¥nes d'√©tapes</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        .test-description {
            color: #666;
            margin-bottom: 10px;
            font-size: 14px;
        }
        .test-status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-size: 14px;
        }
        .status-pass {
            background: #e8f5e9;
            color: #27ae60;
            border-left: 4px solid #27ae60;
        }
        .status-fail {
            background: #ffebee;
            color: #e74c3c;
            border-left: 4px solid #e74c3c;
        }
        .status-warning {
            background: #fff3e0;
            color: #f39c12;
            border-left: 4px solid #f39c12;
        }
        button {
            padding: 8px 16px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px 5px 5px 0;
        }
        button:hover {
            background: #5568d3;
        }
        code {
            background: #f5f5f5;
            padding: 2px 4px;
            border-radius: 2px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <h1>üß™ Test du Syst√®me d'Ic√¥nes d'√âtapes</h1>
    <p style="color: #666;">V√©rification que les ic√¥nes (‚úÖ‚ö°üîí) se mettent √† jour correctement lors de la progression.</p>

    <!-- Test 1: Initialisation -->
    <div class="test-section">
        <div class="test-title">Test 1Ô∏è‚É£ : Initialisation d'un nouveau chapitre</div>
        <div class="test-description">
            Quand on ouvre un nouveau chapitre, les ic√¥nes doivent √™tre :
            <br>‚úÖ √âtape 1 (Objectifs) = ORANGE ‚ö° (active)
            <br>‚úÖ √âtapes 2-N = GRIS üîí (locked)
        </div>
        <button onclick="runTest1()">‚ñ∂ Ex√©cuter Test 1</button>
        <div id="test1-result"></div>
    </div>

    <!-- Test 2: Compl√©tion des Objectifs -->
    <div class="test-section">
        <div class="test-title">Test 2Ô∏è‚É£ : Compl√©tion des Objectifs</div>
        <div class="test-description">
            Apr√®s avoir visualis√© les objectifs et cliqu√© "Commencer le chapitre" :
            <br>‚úÖ √âtape 1 (Objectifs) = VERT ‚úÖ (completed)
            <br>‚úÖ √âtape 2 = ORANGE ‚ö° (active)
            <br>‚úÖ √âtapes 3-N = GRIS üîí (locked)
        </div>
        <button onclick="runTest2()">‚ñ∂ Ex√©cuter Test 2</button>
        <div id="test2-result"></div>
    </div>

    <!-- Test 3: Clic sur √©tape verrouill√©e -->
    <div class="test-section">
        <div class="test-title">Test 3Ô∏è‚É£ : Clic sur une √©tape verrouill√©e</div>
        <div class="test-description">
            Quand on clique sur une √©tape verrouill√©e :
            <br>‚úÖ L'ic√¥ne üîí doit faire une animation "shake"
            <br>‚úÖ Un message d'erreur appara√Æt
            <br>‚úÖ L'√©tape ne s'ouvre pas
        </div>
        <button onclick="runTest3()">‚ñ∂ Ex√©cuter Test 3</button>
        <div id="test3-result"></div>
    </div>

    <!-- Test 4: Compl√©tion s√©quentielle -->
    <div class="test-section">
        <div class="test-title">Test 4Ô∏è‚É£ : Compl√©tion s√©quentielle des √©tapes</div>
        <div class="test-description">
            Apr√®s validation de chaque √©tape :
            <br>‚úÖ L'√©tape compl√©t√©e devient VERT ‚úÖ
            <br>‚úÖ L'√©tape suivante devient ORANGE ‚ö°
            <br>‚úÖ Les autres restent GRIS üîí
        </div>
        <button onclick="runTest4()">‚ñ∂ Ex√©cuter Test 4</button>
        <div id="test4-result"></div>
    </div>

    <!-- Test 5: Portfolio -->
    <div class="test-section">
        <div class="test-title">Test 5Ô∏è‚É£ : D√©verrouillage du Portfolio</div>
        <div class="test-description">
            Apr√®s compl√©tion de toutes les √©tapes :
            <br>‚úÖ Le Portfolio devient ORANGE ‚ö° (active)
            <br>‚úÖ On peut cliquer sur le Portfolio
        </div>
        <button onclick="runTest5()">‚ñ∂ Ex√©cuter Test 5</button>
        <div id="test5-result"></div>
    </div>

    <!-- Test 6: Compl√©tion du Portfolio -->
    <div class="test-section">
        <div class="test-title">Test 6Ô∏è‚É£ : Compl√©tion du Portfolio</div>
        <div class="test-description">
            Apr√®s validation du Portfolio :
            <br>‚úÖ Le Portfolio devient VERT ‚úÖ
            <br>‚úÖ Toutes les √©tapes sont VERT ‚úÖ
            <br>‚úÖ Le chapitre est marqu√© comme compl√©t√©
        </div>
        <button onclick="runTest6()">‚ñ∂ Ex√©cuter Test 6</button>
        <div id="test6-result"></div>
    </div>

    <!-- Test 7: Persistance -->
    <div class="test-section">
        <div class="test-title">Test 7Ô∏è‚É£ : Persistance (localStorage)</div>
        <div class="test-description">
            Apr√®s rechargement de la page :
            <br>‚úÖ Les √©tats persist√©s dans localStorage sont restaur√©s
            <br>‚úÖ Les ic√¥nes affichent les bons √©tats
        </div>
        <button onclick="runTest7()">‚ñ∂ Ex√©cuter Test 7</button>
        <div id="test7-result"></div>
    </div>

    <!-- Test 8: Animations -->
    <div class="test-section">
        <div class="test-title">Test 8Ô∏è‚É£ : Animations</div>
        <div class="test-description">
            V√©rifier visuellement :
            <br>‚úÖ Les ic√¥nes ORANGE ‚ö° ont une animation pulse (coeur qui pulse)
            <br>‚úÖ L'emoji ‚ö° clignote (flicker) l√©g√®rement
            <br>‚úÖ Les ic√¥nes VERT ‚úÖ sont stables (pas d'animation)
            <br>‚úÖ Les ic√¥nes GRIS üîí sont stables et desatur√©es
        </div>
        <button onclick="runTest8()">‚ñ∂ Ex√©cuter Test 8</button>
        <div id="test8-result"></div>
    </div>

    <script>
        // Fonctions auxiliaires pour les tests
        function showResult(elementId, status, message, details = '') {
            const el = document.getElementById(elementId);
            const statusClass = status === 'pass' ? 'status-pass' : status === 'fail' ? 'status-fail' : 'status-warning';
            el.innerHTML = `
                <div class="test-status ${statusClass}">
                    <strong>${message}</strong>
                    ${details ? `<br><small>${details}</small>` : ''}
                </div>
            `;
        }

        function runTest1() {
            // V√©rifier que updateStepIcons existe
            if (typeof updateStepIcons !== 'function') {
                showResult('test1-result', 'fail', '‚ùå ERREUR: updateStepIcons() n\'est pas d√©finie', 
                    'V√©rifiez que la fonction est bien import√©e');
                return;
            }
            showResult('test1-result', 'pass', '‚úÖ PASS: updateStepIcons existe et est une fonction', 
                'Ouvrez l\'application et allez √† la page des chapitres. Les ic√¥nes doivent s\'initialiser correctement.');
        }

        function runTest2() {
            showResult('test2-result', 'warning', '‚ö†Ô∏è TEST MANUEL REQUIS', 
                'Ouvrez un chapitre ‚Üí Cliquez sur Objectifs ‚Üí Cliquez "Commencer le chapitre" ‚Üí V√©rifiez que l\'ic√¥ne devient VERT ‚úÖ');
        }

        function runTest3() {
            showResult('test3-result', 'warning', '‚ö†Ô∏è TEST MANUEL REQUIS', 
                'Ouvrez un chapitre ‚Üí Cliquez sur une √©tape verrouill√©e ‚Üí V√©rifiez le shake + erreur');
        }

        function runTest4() {
            showResult('test4-result', 'warning', '‚ö†Ô∏è TEST MANUEL REQUIS', 
                'Compl√©tez une √©tape ‚Üí V√©rifiez que l\'ic√¥ne devient VERT ‚úÖ et la suivante ORANGE ‚ö°');
        }

        function runTest5() {
            showResult('test5-result', 'warning', '‚ö†Ô∏è TEST MANUEL REQUIS', 
                'Compl√©tez toutes les √©tapes ‚Üí V√©rifiez que le Portfolio devient ORANGE ‚ö°');
        }

        function runTest6() {
            showResult('test6-result', 'warning', '‚ö†Ô∏è TEST MANUEL REQUIS', 
                'Validez le Portfolio ‚Üí V√©rifiez que tous les ic√¥nes deviennent VERT ‚úÖ');
        }

        function runTest7() {
            showResult('test7-result', 'warning', '‚ö†Ô∏è TEST MANUEL REQUIS', 
                'Rechargez la page (F5) ‚Üí V√©rifiez que les √©tats sont restaur√©s correctement');
        }

        function runTest8() {
            showResult('test8-result', 'warning', '‚ö†Ô∏è TEST VISUEL REQUIS', 
                'Ouvrez les DevTools (F12) et observez les animations CSS sur les √©tapes ORANGE ‚ö° (pulse) et les emoji (flicker)');
        }

        // Message initial
        console.log('üß™ Tests des ic√¥nes d\'√©tapes initialis√©s. Cliquez sur les boutons pour ex√©cuter les tests.');
    </script>
</body>
</html>
