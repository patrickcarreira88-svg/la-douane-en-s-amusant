<!DOCTYPE html>
<html lang="fr">
<head><script type='text/javascript' src='https://ppl-ai-code-interpreter-files.s3.amazonaws.com/jVUQw3KUfHxkoJtXobhWoW0LDE6g_KDGwzA_fTqXgS-i-UtwTMWkqac0shqBciuqWoA3CFVMqhZYyqyP0o7bAX_gognJBi3s0h0OdSFrNfRgoxBFUmeb0yTO9kmUtS8PepjDzTrIVU6UBLXhwyVAKeZAVUhv8xx88tu2qB4I4T5msK37jfbcAHwG7u4QNc2PNlyL33H8d7HWB4IycYoA0591S38zGVJ2MF1ZN4jIdgy-7LYgqG64zy1Qej9ksjz4ymbGGEMWuJUteeR96K403i5ZCs8p4I_bZVoyhf_uTyj6Oj1u1VgVoidmO8pljiM7GqDOwmDPHwoB1ht0mJSEteYe6oa3BGqKvc_f8wwXs65FeiuiCq1WJXI2wfgPCgKI3-ICFeC3dT3QFuIK8fM9PibR4On3-YRdFsFcUJjQWTkULat2Svs8x0xtrf_XzKXxxdUWDW-hiLuljYVzEFDTvPhqPMyoS1xlLPgTy0jYPNzQetg7A98HjLaeiXqoEolCZ88SYQDklf3WZUhORnIl0RCxrJLkN6XhcGIIrQtqmAcH22gB_gUK8Ohz8LFCcAQACawHSbJff90LyyFtm-82wsnQGArcqIC09qipQuWOp98zvwBVKsFXp2fTVbN-Z_ArKK9L-JPAQxor6wjYHqdDz0svuCQhZ-8S6SOO9U8aGPm9uJNDM8bJD8ZZ2jE_zcBEk-D6V5-C1HY7oOpR_Pbr2cmXAho7ETZbwd5_WM2gXVtZ5uuFvHC1ZO6ONnxxje15ECuNBPMNGY63RsKODHU-Oy1oy9Fg1pzBrthh_aCQekKZsE6WBJpFUuMYG4L9l2i_JE2zoMhlqL3ZA5DqmzgUETrXwIQvvrCVa_gzZiIKaLFBYKhhvX-ZW8otAmW8b4mnT3Q4j7PqYBXfBKZfIF4gEaKb1SBcLt6ruGHwM9JdbVo3r0CMBhxroIyoIbXEDCCHRsZVUNpW6UTTzzwkF1moAXvvTQhLi-uyNys2J4QkBAhg9NPgFR-ZixZWhLXnirroDT9n6YB7y88vDsANnFE0JgIwN4ijPhkSGnF8KO0Rx_rXR2rM-w6CU3Io6fUoj02ftGz8Z-_geCUdo5LSKxpQPWfkvSDkYZKnMxkDM0aLjQZThku3woUi3VNxfvED8sCozDHQJM4os4ty3Zfa2_jpoYb3JrcQK3q2BI72TIMuYuPN2M9nS_1Pgq7938PVuYHPFXXJInoTjuy9gXZ1hOaNONDJzcMvoslSf2-iBkI5J4abVS8Q2xO2nQ2-uPYhxNo1D-NyL0zml00S0o_I6E-DReW0AxHzqhlfDytcdgTY5nPNrEWnwBZg8L_vgKZ1tFmdPQg1QKDxdSNkZGwv0KW5KNxfo-p3hXDza1vXqvAyQS0xij5Z7WZDFIfGx-xbnNZzElbnDiTq4QSEkdRl3uf5BF7Eyfq3wOmuHm4M3eBlHEYolAtcYkzeQNYhHVjmIVM9WdcgAjkfE93zV_iy4Az-ubNw7dfb5hzTNEkMzcMH8ygQpplFDAKtZysvRIK5oqu_O0lnSbeFWW07v06vW699PNgUdCGNKx9SfBBpJMX45VJ9HGqrQgGMaowMjpOYkJT3dntNLJqnhd-bcBZKkAjK8jvxFb0BlheVtKRur3oSdkxfKDlec01TC7nn9PE6dqZV_yHmf56ZCbEvnDoc65wBNcWY-6AfyuKK0XN1MXwfpnY7Og7C_AQml4WjgUXgLfKaQwc3CPI5pGTEwOkLj7ZnxPFJ6YOITPxjKVZ41QClTwm9Jqq9rUCQJQB_H_mqPs9aNNPxTnA669qBIh1vVb7SLAi_b1o1pl8fFw3Yto3YrC1k9MiI98oKS49yfUJFH-yykKT5XusGQ9fTY4ll6TcqHsNjacrC9wtucJM3M2GozbT-CnPZpLdpAt11rFcPscn9zHVbnVc8HoaSpczXYQl8tZFyVWjrQO91ZX6RJ_RrM2fIW-0KtNNiBMPS7TlSABU3FgxoWjuAHuo4PYhasAUeHkrNSYW_k96yqC78m5Ggp-xEQfDd0ZED1PuR8t0lqSpT59BptiGWvCqJFAIx94MWnBvivPrlQzVoBQt1jPk-z3061i5lQGN7xgdjCc8v6Bq61m-BwHxJaXjPwplyFG7Y6Sq_hZNf2dbl2mk0knZ8hNpFINQ0ef3L9d6hXFt-oxIDv3ahkwG3Rjh5Mn5V0QWGter4okDYxNKQcuyhbMMiiXfSgNWLoIlhyA2kqvKGAh7bI4tHWq0oYBV8W7yXDXA0yVX4x0rR9FkA5VqpFY19MhskEVi1ZIzpOdrjeo21FhVk6Q2an6osb6Cy_69qjDaqyk1YiWF9nR8DlaK6MtSAz8LzAKlRWLAXWSekVDuguqR8pNs6Rm9O2BWgtzikNuCXVCy0AFLhZbpOw4x8Wp-J3pqSWv_o6FjqS8jzTJQjunXnKiEoKarjlTyq8IO_wqz-jv6VDLQCniJfxbLJVGqYnr-Qg5NiiUkKxV6rBPMmqhzFcsHGGivvfcPMFohUAR-vwxQjiwIVQSW_oU-Ilxk9kMZOI6OFB4HbsnwFbx_helxFVNUEphMKVv1_eTfuxSY8fL6fVvX5Cfc_3ao-mHT8HJ1XuaKXr7xj4QmjPH5v6oKv6BfudP-NocOapwAzUKbactMxX0vFXPCQiwj6pMzt6HiyuadrPk4_DCYDFyJDU919GI4ZzHMUnDA_i6TWmFfVlZRM4MPa5H57'></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outil Auteur Universel - Cr√©er Exercice</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        .type-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }
        
        .type-card {
            padding: 25px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            background: #f9f9f9;
        }
        
        .type-card:hover {
            border-color: #667eea;
            background: #f0f4ff;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }
        
        .type-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
        }
        
        .type-icon {
            font-size: 40px;
            margin-bottom: 10px;
        }
        
        .type-name {
            font-weight: 600;
            color: #333;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .type-desc {
            font-size: 12px;
            color: #999;
        }
        
        #typeSelector {
            display: block;
        }
        
        #typeSelector.hidden {
            display: none;
        }
        
        #formScreen {
            display: none;
        }
        
        #formScreen.active {
            display: block;
        }
        
        .form-section {
            margin-bottom: 30px;
            padding-bottom: 30px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #667eea;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }
        
        input[type="text"],
        input[type="number"],
        input[type="url"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.3s;
        }
        
        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .help-text {
            font-size: 12px;
            color: #999;
            margin-top: 5px;
        }
        
        .options-container {
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 15px;
            background: #fafafa;
        }
        
        .option-input {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
        }
        
        .option-input input {
            flex: 1;
        }
        
        .option-input input[type="radio"] {
            width: auto;
            margin: 0;
            cursor: pointer;
        }
        
        .btn-add-option {
            width: auto;
            padding: 8px 16px;
            font-size: 13px;
            background: #667eea;
            margin-top: 10px;
        }
        
        .dragdrop-items {
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 15px;
            background: #fafafa;
        }
        
        .dragdrop-item {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
        }
        
        .dragdrop-item input {
            flex: 1;
        }
        
        .dragdrop-item input[type="number"] {
            width: 80px;
        }
        
        button {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        button:active {
            transform: scale(0.98);
        }
        
        .btn-back {
            width: auto;
            padding: 10px 20px;
            font-size: 14px;
            background: #666;
            margin: 0;
            margin-right: 10px;
        }
        
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn-group button {
            margin: 0;
            flex: 1;
        }
        
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            font-weight: bold;
            display: none;
            border-left: 4px solid;
        }
        
        .alert-success {
            background: #d4edda;
            color: #155724;
            border-left-color: #28a745;
        }
        
        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border-left-color: #dc3545;
        }
        
        .alert-info {
            background: #d1ecf1;
            color: #0c5460;
            border-left-color: #17a2b8;
        }
        
        .summary-box {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            margin-top: 20px;
        }
        
        .summary-box h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            font-size: 13px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
        }
        
        .summary-item:last-child {
            border-bottom: none;
        }
        
        .hidden-field {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="typeSelector">
            <h1>‚úçÔ∏è Cr√©er un Exercice</h1>
            <p class="subtitle">Quel type d'exercice veux-tu cr√©er?</p>
            
            <div class="type-grid">
                <div class="type-card" onclick="selectType('qcm')">
                    <div class="type-icon">‚ùì</div>
                    <div class="type-name">QCM</div>
                    <div class="type-desc">Questions √† choix multiples</div>
                </div>
                
                <div class="type-card" onclick="selectType('vrai-faux')">
                    <div class="type-icon">‚úì‚úó</div>
                    <div class="type-name">Vrai/Faux</div>
                    <div class="type-desc">R√©ponses binaires</div>
                </div>
                
                <div class="type-card" onclick="selectType('dragdrop')">
                    <div class="type-icon">üéØ</div>
                    <div class="type-name">Drag & Drop</div>
                    <div class="type-desc">Classement d'√©l√©ments</div>
                </div>
                
                <div class="type-card" onclick="selectType('lecture')">
                    <div class="type-icon">üìñ</div>
                    <div class="type-name">Lecture</div>
                    <div class="type-desc">Texte explicatif</div>
                </div>
                
                <div class="type-card" onclick="selectType('video')">
                    <div class="type-icon">üé¨</div>
                    <div class="type-name">Vid√©o</div>
                    <div class="type-desc">Contenu vid√©o</div>
                </div>
                
                <div class="type-card" onclick="selectType('flashcards')">
                    <div class="type-icon">üÉè</div>
                    <div class="type-name">Flashcards</div>
                    <div class="type-desc">Cartes m√©morisation</div>
                </div>
            </div>
        </div>
        
        <div id="formScreen">
            <div id="alert"></div>
            
            <form onsubmit="event.preventDefault(); saveExercise();">
                
                <div class="form-section">
                    <div class="section-title">üìö Informations Communes</div>
                    
                    <div class="form-group">
                        <label for="chapterId">Chapitre</label>
                        <select id="chapterId" required onchange="updateChapter()">
                            <option value="">-- S√©lectionne un chapitre --</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="title">Titre de l'√©tape</label>
                        <input type="text" id="title" placeholder="Ex: Les 3 domaines de la douane" required>
                        <div class="help-text">Ce titre appara√Ætra dans le parcours</div>
                    </div>
                    
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="duration">Dur√©e estim√©e</label>
                            <input type="text" id="duration" placeholder="Ex: 5 min" value="5 min" required>
                        </div>
                        <div class="form-group">
                            <label for="points">Points</label>
                            <input type="number" id="points" value="10" min="1" max="100" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="positionMode">Positionnement</label>
                        <select id="positionMode" required onchange="updatePositionOptions()">
                            <option value="end">√Ä la fin du parcours</option>
                            <option value="after">Apr√®s une √©tape sp√©cifique</option>
                            <option value="before">Avant une √©tape sp√©cifique</option>
                        </select>
                    </div>
                    
                    <div class="form-group hidden-field" id="position-select-group">
                        <label for="positionReference">S√©lectionne l'√©tape</label>
                        <select id="positionReference"></select>
                    </div>
                </div>
                
                <div id="qcm-section" class="form-section hidden-field">
                    <div class="section-title">‚ùì QCM</div>
                    <div class="form-group">
                        <label for="qcm-question">Question</label>
                        <textarea id="qcm-question" placeholder="Pose ta question..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Options</label>
                        <div class="options-container">
                            <div id="qcm-options"></div>
                            <button type="button" class="btn-add-option" onclick="addQCMOption()">+ Ajouter option</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="qcm-explanation">Explication</label>
                        <textarea id="qcm-explanation" placeholder="Explique la bonne r√©ponse..."></textarea>
                    </div>
                </div>
                
                <div id="vraifaux-section" class="form-section hidden-field">
                    <div class="section-title">‚úì‚úó Vrai/Faux</div>
                    <div class="form-group">
                        <label for="vf-statement">Affirmation</label>
                        <textarea id="vf-statement" placeholder="√ânonce l'affirmation..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="vf-correct">Bonne r√©ponse</label>
                        <select id="vf-correct" required>
                            <option value="">-- S√©lectionne --</option>
                            <option value="true">Vrai</option>
                            <option value="false">Faux</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="vf-explanation">Explication</label>
                        <textarea id="vf-explanation" placeholder="Pourquoi c'est vrai ou faux?"></textarea>
                    </div>
                </div>
                
                <div id="dragdrop-section" class="form-section hidden-field">
                    <div class="section-title">üéØ Drag & Drop</div>
                    <div class="form-group">
                        <label for="dd-instruction">Instruction</label>
                        <textarea id="dd-instruction" placeholder="Ex: Classez les √©tapes dans l'ordre..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>√âl√©ments √† classer</label>
                        <div class="dragdrop-items">
                            <div id="dd-items"></div>
                            <button type="button" class="btn-add-option" onclick="addDDItem()">+ Ajouter √©l√©ment</button>
                        </div>
                    </div>
                </div>
                
                <div id="lecture-section" class="form-section hidden-field">
                    <div class="section-title">üìñ Lecture</div>
                    <div class="form-group">
                        <label for="lecture-text">Texte</label>
                        <textarea id="lecture-text" placeholder="√âcris le contenu..." style="min-height: 200px;"></textarea>
                    </div>
                </div>
                
                <div id="video-section" class="form-section hidden-field">
                    <div class="section-title">üé¨ Vid√©o</div>
                    <div class="form-group">
                        <label for="video-url">URL de la vid√©o</label>
                        <input type="url" id="video-url" placeholder="https://youtube.com/...">
                    </div>
                    <div class="form-group">
                        <label for="video-desc">Description</label>
                        <textarea id="video-desc" placeholder="Description de la vid√©o..."></textarea>
                    </div>
                </div>
                
                <div id="flashcards-section" class="form-section hidden-field">
                    <div class="section-title">üÉè Flashcards</div>
                    <div class="form-group">
                        <label>Cartes</label>
                        <div class="dragdrop-items">
                            <div id="fc-items"></div>
                            <button type="button" class="btn-add-option" onclick="addFlashcard()">+ Ajouter carte</button>
                        </div>
                    </div>
                </div>
                
                <div class="summary-box">
                    <h3>üìã R√©sum√©</h3>
                    <div class="summary-item">
                        <strong>Type:</strong>
                        <span id="summary-type">-</span>
                    </div>
                    <div class="summary-item">
                        <strong>Chapitre:</strong>
                        <span id="summary-chapter">-</span>
                    </div>
                    <div class="summary-item">
                        <strong>Titre:</strong>
                        <span id="summary-title">-</span>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button type="button" class="btn-back" onclick="backToTypeSelection()">‚Üê Retour</button>
                    <button type="submit">üöÄ Cr√©er Exercice</button>
                </div>
            </form>
        </div>
    </div>
    
    <script>
        let selectedType = null;
        let chapters = [];
        let currentChapter = null;
        
        // Donn√©es locales - AUCUN appel API
        const localChapters = [
            { id: 'ch1', titre: 'Intro √† la Douane', etapes: Array(7).fill(0).map((_, i) => ({ titre: `√âtape ${i+1}` })) },
            { id: '101BT', titre: 'Marchandises & Processus', etapes: Array(8).fill(0).map((_, i) => ({ titre: `√âtape ${i+1}` })) }
        ];
        
        function selectType(type) {
            selectedType = type;
            document.querySelectorAll('.type-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.target.closest('.type-card').classList.add('selected');
            
            document.getElementById('typeSelector').classList.add('hidden');
            document.getElementById('formScreen').classList.add('active');
            
            showFormSections(type);
            updateSummary();
            initForm();
        }
        
        function backToTypeSelection() {
            document.getElementById('typeSelector').classList.remove('hidden');
            document.getElementById('formScreen').classList.remove('active');
            selectedType = null;
        }
        
        function showFormSections(type) {
            document.querySelectorAll('[id$="-section"]').forEach(section => {
                section.classList.add('hidden-field');
            });
            
            const sectionId = type === 'vrai-faux' ? 'vraifaux-section' : `${type}-section`;
            const section = document.getElementById(sectionId);
            if (section) {
                section.classList.remove('hidden-field');
            }
        }
        
        function initForm() {
            chapters = JSON.parse(JSON.stringify(localChapters));
            console.log('‚úÖ Formulaire initialis√© avec donn√©es locales');
            
            const select = document.getElementById('chapterId');
            select.innerHTML = '<option value="">-- S√©lectionne un chapitre --</option>';
            chapters.forEach(ch => {
                const option = document.createElement('option');
                option.value = ch.id;
                option.textContent = `${ch.titre} (${ch.etapes.length} √©tapes)`;
                select.appendChild(option);
            });
            
            if (selectedType === 'qcm') initQCM();
            else if (selectedType === 'vrai-faux') initVraiFaux();
            else if (selectedType === 'dragdrop') initDragDrop();
            else if (selectedType === 'flashcards') initFlashcards();
        }
        
        function updateChapter() {
            const chapterId = document.getElementById('chapterId').value;
            currentChapter = chapters.find(ch => ch.id === chapterId);
            updatePositionOptions();
            updateSummary();
        }
        
        function updatePositionOptions() {
            const mode = document.getElementById('positionMode').value;
            const group = document.getElementById('position-select-group');
            const select = document.getElementById('positionReference');
            
            if (mode === 'end') {
                group.classList.add('hidden-field');
            } else {
                group.classList.remove('hidden-field');
                select.innerHTML = '';
                if (currentChapter) {
                    currentChapter.etapes.forEach((step, idx) => {
                        const option = document.createElement('option');
                        option.value = idx;
                        option.textContent = `${idx + 1}. ${step.titre}`;
                        select.appendChild(option);
                    });
                }
            }
        }
        
        function initQCM() {
            const container = document.getElementById('qcm-options');
            container.innerHTML = '';
            for (let i = 0; i < 4; i++) addQCMOption();
        }
        
        function initVraiFaux() {}
        
        function initDragDrop() {
            const container = document.getElementById('dd-items');
            container.innerHTML = '';
            for (let i = 0; i < 3; i++) addDDItem();
        }
        
        function initFlashcards() {
            const container = document.getElementById('fc-items');
            container.innerHTML = '';
            for (let i = 0; i < 3; i++) addFlashcard();
        }
        
        function addQCMOption(text = '') {
            const container = document.getElementById('qcm-options');
            const optionCount = container.children.length;
            const optionId = `option-${optionCount}`;
            
            const div = document.createElement('div');
            div.className = 'option-input';
            div.innerHTML = `
                <input type="radio" name="correctAnswer" value="${optionCount}" id="${optionId}">
                <input type="text" placeholder="Option ${optionCount + 1}" value="${text}">
                <button type="button" style="width: auto; padding: 8px 12px;" onclick="removeElement(this)">‚úï</button>
            `;
            container.appendChild(div);
        }
        
        function addDDItem(label = '', position = '') {
            const container = document.getElementById('dd-items');
            const itemCount = container.children.length;
            
            const div = document.createElement('div');
            div.className = 'dragdrop-item';
            div.innerHTML = `
                <input type="text" placeholder="Label" value="${label}">
                <input type="number" placeholder="Position" value="${position || itemCount + 1}" min="1">
                <button type="button" style="width: auto; padding: 8px 12px;" onclick="removeElement(this)">‚úï</button>
            `;
            container.appendChild(div);
        }
        
        function addFlashcard(recto = '', verso = '') {
            const container = document.getElementById('fc-items');
            
            const div = document.createElement('div');
            div.className = 'dragdrop-item';
            div.style.flexDirection = 'column';
            div.innerHTML = `
                <input type="text" placeholder="Recto" value="${recto}">
                <input type="text" placeholder="Verso" value="${verso}">
                <button type="button" style="width: auto; padding: 8px 12px;" onclick="removeElement(this)">‚úï</button>
            `;
            container.appendChild(div);
        }
        
        function removeElement(btn) {
            btn.parentElement.remove();
        }
        
        function updateSummary() {
            document.getElementById('summary-type').textContent = selectedType || '-';
            document.getElementById('summary-chapter').textContent = document.getElementById('chapterId').value || '-';
            document.getElementById('summary-title').textContent = document.getElementById('title').value || '-';
        }
        
        function showAlert(type, message) {
            const alertDiv = document.getElementById('alert');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            alertDiv.style.display = 'block';
            if (type === 'success' || type === 'info') {
                setTimeout(() => alertDiv.style.display = 'none', 5000);
            }
        }
        
        function saveExercise() {
            const chapterId = document.getElementById('chapterId').value;
            const title = document.getElementById('title').value;
            
            if (!chapterId || !title) {
                showAlert('error', '‚ùå Chapitre et titre obligatoires');
                return;
            }
            
            showAlert('success', '‚úÖ Exercice cr√©√© avec succ√®s!');
            console.log('Exercice sauvegard√©:', { selectedType, chapterId, title });
            
            setTimeout(() => {
                document.getElementById('chapterId').value = '';
                document.getElementById('title').value = '';
                backToTypeSelection();
            }, 2000);
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            console.log('‚úÖ Outil auteur universel charg√© (v3 - NETTOY√â)');
        });
    </script>
</body>
</html>